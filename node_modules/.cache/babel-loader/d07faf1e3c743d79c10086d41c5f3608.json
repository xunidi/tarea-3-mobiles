{"ast":null,"code":"import _objectSpread from \"/Users/Xuni/git/practica walter/reactCourse.CM2019.myFirstApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n\n/*eslint no-restricted-globals: [\"off\", \"location\"]*/\nimport axios from 'axios';\nimport $ from 'jquery';\nexport default {\n  post: (path, data = {}, headers, cancelToken) => axios.post(path, data, {\n    headers,\n    cancelToken\n  }).then(({\n    data\n  }) => data).catch(checkError),\n  patch: (path, data = {}, headers, cancelToken) => axios.patch(path, data, {\n    headers,\n    cancelToken\n  }).then(({\n    data\n  }) => data).catch(checkError),\n  put: (path, data = {}, headers) => axios.put(path, data, {\n    headers\n  }).then(({\n    data\n  }) => data).catch(checkError),\n  get: (path, params = {}, headers) => axios.get(path, {\n    params,\n    headers\n  }).then(({\n    data\n  }) => data).catch(checkError),\n  delete: (path, params = {}, headers) => axios.delete(path, {\n    params,\n    headers\n  }).then(({\n    data\n  }) => data).catch(checkError)\n};\nexport const adminPost = (path, data, cancelToken) => {\n  return axios.post(path, $.param({\n    data: JSON.stringify(_objectSpread({}, data, {\n      timestamp: Math.floor(Date.now())\n    }))\n  }), {\n    cancelToken\n  }).then(({\n    data\n  }) => {\n    if (!data.response_code || Number(data.response_code) === 200) return data;else {\n      let errorMessage = data.response_message;\n      if (typeof errorMessage === 'object') errorMessage = errorMessage[Object.keys(errorMessage)[0]];\n      throw new Error(errorMessage || 'Ocurrio un error');\n    }\n  }).catch(async e => {\n    if (e.response && e.response.status === 401) {}\n\n    throw e;\n  });\n};\nexport const elbPost = (path, data = {}, headers, cancelToken) => {\n  data.public_key = 'e7d7c9d5fe292478eefc34fb3de7e5cd6c41a0d2';\n  if (undefined === data.teamID) data.teamID = 6;\n  return axios.post(path, $.param({\n    data: JSON.stringify(_objectSpread({}, data, {\n      timestamp: Math.floor(Date.now())\n    }))\n  }), {\n    cancelToken\n  }).then(({\n    data\n  }) => {\n    if (!data.response_code || Number(data.response_code) === 200) return data;else {\n      let errorMessage = data.response_message;\n      if (typeof errorMessage === 'object') errorMessage = errorMessage[Object.keys(errorMessage)[0]];\n      throw new Error(errorMessage || 'Ocurrio un error');\n    }\n  }).catch(async e => {\n    if (e.response && e.response.status === 401) {}\n\n    throw e;\n  });\n};\n\nconst checkError = e => {\n  if (e.response && e.response.data && e.response.data.error) {\n    const error = new Error(e.response.data.error);\n    error.code = e.response.data.errorCode ? e.response.data.errorCode : e.response.data.errorCode || 'Error';\n    throw error;\n  } else if (!e.code) {\n    throw new Error('No se pudo accesar a la plataforma intenta de nuevo');\n  } else throw e;\n};","map":{"version":3,"sources":["/Users/Xuni/git/practica walter/reactCourse.CM2019.myFirstApp/src/WebServices/WebService.js"],"names":["axios","$","post","path","data","headers","cancelToken","then","catch","checkError","patch","put","get","params","delete","adminPost","param","JSON","stringify","timestamp","Math","floor","Date","now","response_code","Number","errorMessage","response_message","Object","keys","Error","e","response","status","elbPost","public_key","undefined","teamID","error","code","errorCode"],"mappings":"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","sourcesContent":["/*eslint no-restricted-globals: [\"off\", \"location\"]*/\nimport axios from 'axios';\nimport $ from 'jquery';\n\nexport default {\n\tpost: (path, data = {}, headers, cancelToken) => axios.post(path, data, { headers, cancelToken }).then(({ data }) => data).catch(checkError),\n\tpatch: (path, data = {}, headers, cancelToken) => axios.patch(path, data, { headers, cancelToken }).then(({ data }) => data).catch(checkError),\n\tput: (path, data = {}, headers) => axios.put(path, data, { headers }).then(({ data }) => data).catch(checkError),\n\tget: (path, params = {}, headers) => axios.get(path, { params, headers }).then(({ data }) => data).catch(checkError),\n\tdelete: (path, params = {}, headers) => axios.delete(path, { params, headers }).then(({ data }) => data).catch(checkError)\n};\n\nexport const adminPost = (path, data, cancelToken) => {\n\treturn axios\n\t\t.post(\n\t\t\tpath,\n\t\t\t$.param({\n\t\t\t\tdata: JSON.stringify({\n\t\t\t\t\t...data,\n\t\t\t\t\ttimestamp: Math.floor(Date.now())\n\t\t\t\t})\n\t\t\t}),\n\t\t\t{ cancelToken }\n\t\t)\n\t\t.then(({ data }) => {\n\t\t\tif (!data.response_code || Number(data.response_code) === 200) return data;\n\t\t\telse {\n\t\t\t\tlet errorMessage = data.response_message;\n\t\t\t\tif (typeof errorMessage === 'object') errorMessage = errorMessage[Object.keys(errorMessage)[0]];\n\n\t\t\t\tthrow new Error(errorMessage || 'Ocurrio un error');\n\t\t\t}\n\t\t})\n\t\t.catch(async (e) => {\n\t\t\tif (e.response && e.response.status === 401) {\n\t\t\t}\n\t\t\tthrow e;\n\t\t});\n};\nexport const elbPost = (path, data = {}, headers, cancelToken) => {\n\tdata.public_key = 'e7d7c9d5fe292478eefc34fb3de7e5cd6c41a0d2';\n\tif (undefined === data.teamID) data.teamID = 6;\n\treturn axios\n\t\t.post(\n\t\t\tpath,\n\t\t\t$.param({\n\t\t\t\tdata: JSON.stringify({\n\t\t\t\t\t...data,\n\t\t\t\t\ttimestamp: Math.floor(Date.now())\n\t\t\t\t})\n\t\t\t}),\n\t\t\t{ cancelToken }\n\t\t)\n\t\t.then(({ data }) => {\n\t\t\tif (!data.response_code || Number(data.response_code) === 200) return data;\n\t\t\telse {\n\t\t\t\tlet errorMessage = data.response_message;\n\t\t\t\tif (typeof errorMessage === 'object') errorMessage = errorMessage[Object.keys(errorMessage)[0]];\n\n\t\t\t\tthrow new Error(errorMessage || 'Ocurrio un error');\n\t\t\t}\n\t\t})\n\t\t.catch(async (e) => {\n\t\t\tif (e.response && e.response.status === 401) {\n\t\t\t}\n\t\t\tthrow e;\n\t\t});\n};\nconst checkError = (e) => {\n\tif (e.response && e.response.data && e.response.data.error) {\n\t\tconst error = new Error(e.response.data.error);\n\t\terror.code = e.response.data.errorCode ? e.response.data.errorCode : e.response.data.errorCode || 'Error';\n\t\tthrow error;\n\t} else if (!e.code) {\n\t\tthrow new Error('No se pudo accesar a la plataforma intenta de nuevo');\n\t} else throw e;\n};\n"]},"metadata":{},"sourceType":"module"}