{"ast":null,"code":"var _temp,\n    _jsxFileName = \"/Users/Xuni/git/practica walter/reactCourse.CM2019.myFirstApp/src/screens/Summary/Summary.js\";\n\nimport * as React from 'react';\nimport styles from './Summary.module.scss';\nimport Table from '../../components/Table/Table';\nimport summaryHeaders from '../../resources/jsons/summaryHeaders.json';\nimport summaryData from '../../resources/jsons/summaryData.json';\nimport { IconTable, IconChart } from '../../resources/svg/Icons';\nimport produce from 'immer/dist/immer';\nimport SimpleBarChart from '../../components/Chart/SimpleBarChart';\nimport StackedBarChart from '../../components/Chart/StackedBarChart';\nexport default (_temp = class Summary extends React.PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selected: {\n        table: true,\n        chart: false\n      },\n      data: []\n    };\n\n    this.init = () => {\n      let array = [];\n      summaryData.forEach((item, i) => {\n        const element = {\n          name: item.name,\n          online: item.summary[0].value,\n          boxoffice: item.summary[1].value\n        };\n        array = array.concat(element);\n      });\n      const nextState = produce(this.state, draft => {\n        draft.data = array;\n      });\n      this.setState(nextState);\n    };\n\n    this.onHandleIcon = item => {\n      const nextState = produce(this.state, draft => {\n        draft.selected.table = false;\n        draft.selected.chart = false;\n        draft.selected[item] = true;\n      });\n      this.setState(nextState);\n    };\n  }\n\n  componentDidMount() {\n    this.init();\n  }\n\n  render() {\n    const _this$state = this.state,\n          selected = _this$state.selected,\n          data = _this$state.data;\n    const headers = summaryHeaders;\n    return React.createElement(\"div\", {\n      className: styles.main,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.icons,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.container_icon,\n      onClick: () => this.onHandleIcon('table'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(IconTable, {\n      className: selected.table ? styles.icon_selected : styles.icon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: styles.container_icon,\n      onClick: () => this.onHandleIcon('chart'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(IconChart, {\n      className: selected.chart ? styles.icon_selected : styles.icon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }))), selected.table && React.createElement(\"div\", {\n      className: styles.table,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, summaryData.map((data, i) => {\n      data.summary.forEach((item, i) => {\n        item.total = item.sold + item.courtesies + item.promos;\n      });\n      return React.createElement(\"div\", {\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: styles.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, data.name), React.createElement(Table, {\n        data: data.summary,\n        headers: headers,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }));\n    })), selected.chart && React.createElement(\"div\", {\n      className: styles.chart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(SimpleBarChart, {\n      data: data,\n      y1: 'online',\n      y2: 'boxoffice',\n      y1Axis: 'left',\n      y2Axis: 'left',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(StackedBarChart, {\n      data: data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    })));\n  }\n\n}, _temp);","map":{"version":3,"sources":["/Users/Xuni/git/practica walter/reactCourse.CM2019.myFirstApp/src/screens/Summary/Summary.js"],"names":["React","styles","Table","summaryHeaders","summaryData","IconTable","IconChart","produce","SimpleBarChart","StackedBarChart","Summary","PureComponent","state","selected","table","chart","data","init","array","forEach","item","i","element","name","online","summary","value","boxoffice","concat","nextState","draft","setState","onHandleIcon","componentDidMount","render","headers","main","icons","container_icon","icon_selected","icon","map","total","sold","courtesies","promos","title"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport styles from './Summary.module.scss';\nimport Table from '../../components/Table/Table';\nimport summaryHeaders from '../../resources/jsons/summaryHeaders.json';\nimport summaryData from '../../resources/jsons/summaryData.json';\nimport { IconTable, IconChart } from '../../resources/svg/Icons';\nimport produce from 'immer/dist/immer';\nimport SimpleBarChart from '../../components/Chart/SimpleBarChart';\nimport StackedBarChart from '../../components/Chart/StackedBarChart';\n\nexport default (class Summary extends React.PureComponent {\n\tstate = {\n\t\tselected: {\n\t\t\ttable: true,\n\t\t\tchart: false\n\t\t},\n\t\tdata: []\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.init();\n\t}\n\n\tinit = () => {\n\t\tlet array = [];\n\t\tsummaryData.forEach((item, i) => {\n\t\t\tconst element = {\n\t\t\t\tname: item.name,\n\t\t\t\tonline: item.summary[0].value,\n\t\t\t\tboxoffice: item.summary[1].value\n\t\t\t};\n\t\t\tarray = array.concat(element);\n\t\t});\n\t\tconst nextState = produce(this.state, (draft) => {\n\t\t\tdraft.data = array;\n\t\t});\n\t\tthis.setState(nextState);\n\t};\n\n\tonHandleIcon = (item) => {\n\t\tconst nextState = produce(this.state, (draft) => {\n\t\t\tdraft.selected.table = false;\n\t\t\tdraft.selected.chart = false;\n\t\t\tdraft.selected[item] = true;\n\t\t});\n\t\tthis.setState(nextState);\n\t};\n\trender() {\n\t\tconst { selected, data } = this.state;\n\t\tconst headers = summaryHeaders;\n\n\t\treturn (\n\t\t\t<div className={styles.main}>\n\t\t\t\t<div className={styles.icons}>\n\t\t\t\t\t<div className={styles.container_icon} onClick={() => this.onHandleIcon('table')}>\n\t\t\t\t\t\t<IconTable className={selected.table ? styles.icon_selected : styles.icon} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={styles.container_icon} onClick={() => this.onHandleIcon('chart')}>\n\t\t\t\t\t\t<IconChart className={selected.chart ? styles.icon_selected : styles.icon} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{selected.table && (\n\t\t\t\t\t<div className={styles.table}>\n\t\t\t\t\t\t{summaryData.map((data, i) => {\n\t\t\t\t\t\t\tdata.summary.forEach((item, i) => {\n\t\t\t\t\t\t\t\titem.total = item.sold + item.courtesies + item.promos;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div key={i}>\n\t\t\t\t\t\t\t\t\t<p className={styles.title}>{data.name}</p>\n\t\t\t\t\t\t\t\t\t<Table data={data.summary} headers={headers} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{selected.chart && (\n\t\t\t\t\t<div className={styles.chart}>\n\t\t\t\t\t\t<SimpleBarChart data={data} y1={'online'} y2={'boxoffice'} y1Axis={'left'} y2Axis={'left'} />\n\t\t\t\t\t\t<StackedBarChart data={data} />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n});\n"]},"metadata":{},"sourceType":"module"}